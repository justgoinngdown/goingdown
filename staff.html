<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人员信息 - 青岛海湾化学</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 头部 -->
    <header>
        <div class="container">
            <h1>青岛海湾化学股份有限公司</h1>
            <h2>质量监督检验部</h2>
            <nav>
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="equipment.html">仪器设备</a></li>
                    <li><a href="staff.html" class="active">人员信息</a></li>
                    <li><a href="projects.html">分析检测项目</a></li>
                    <li><a href="organization.html">组织架构</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 主体内容 -->
    <main class="container">
        <h2>人员信息统计</h2>
        
        <!-- 男女比例 -->
        <section class="card">
            <h3>男女比例</h3>
            <canvas id="genderChart"></canvas>
        </section>

        <!-- 学历占比 -->
        <section class="card">
            <h3>学历占比</h3>
            <canvas id="educationChart"></canvas>
        </section>

        <!-- 年龄占比 -->
        <section class="card">
            <h3>年龄占比</h3>
            <canvas id="ageChart"></canvas>
        </section>
    </main>

    <!-- 页脚 -->
    <footer>
        <div class="container">
<<<<<<< HEAD
            <p>版权所有 &copy; 2025 青岛海湾化学股份有限公司</p>
            <p>联系方式：15684706918</p>
=======
            <p>版权所有 &copy; 2023 青岛海湾化学股份有限公司</p>
            <p>联系方式：0532-12345678</p>
>>>>>>> f2055ffcb84c58b187ef75930b7076f40e515373
        </div>
    </footer>

    <script>
        // 获取统计数据
        fetch('php/get_staff_stats.php')
            .then(response => response.json())
            .then(data => {
                // 男女比例
                const genderCtx = document.getElementById('genderChart').getContext('2d');
                new Chart(genderCtx, {
                    type: 'pie',
                    data: {
                        labels: ['男', '女'],
                        datasets: [{
                            data: [data.gender.male, data.gender.female],
                            backgroundColor: ['#3498db', '#e74c3c']
                        }]
                    }
                });

                // 学历占比
                const educationCtx = document.getElementById('educationChart').getContext('2d');
                new Chart(educationCtx, {
                    type: 'pie',
                    data: {
                        labels: ['本科', '硕士', '博士'],
                        datasets: [{
                            data: [data.education.bachelor, data.education.master, data.education.doctor],
                            backgroundColor: ['#3498db', '#2ecc71', '#e74c3c']
                        }]
                    }
                });

                // 年龄占比
                const ageCtx = document.getElementById('ageChart').getContext('2d');
                new Chart(ageCtx, {
                    type: 'pie',
                    data: {
                        labels: ['20-30岁', '31-40岁', '41-50岁', '51岁以上'],
                        datasets: [{
                            data: [data.age.twenties, data.age.thirties, data.age.forties, data.age.fifties],
                            backgroundColor: ['#3498db', '#2ecc71', '#e74c3c', '#9b59b6']
                        }]
                    }
                });
            });
    </script>
</body>
</html> 